(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[103],{3304:function(e,r,t){"use strict";t.r(r);var n=t(26),a=t(225),c=t(61),i=t(3),o=t(1),l=t(7),s=t(0),u=t(3322),d=t(81),b=t(3377),j=t(673),p=t(453),h=t(707),m=t(113),x=t(700),O=t(213),f=t(543),g=t.n(f),v=t(220),y=t(1030),C=t(42),T=t(4);r.default=function(){var e=Object(s.useState)({}),r=Object(l.a)(e,2),t=r[0],f=r[1],k=Object(s.useState)([]),N=Object(l.a)(k,2),E=N[0],S=N[1],w=localStorage.getItem("auth_token"),q=Object(s.useState)(!0),B=Object(l.a)(q,2),I=(B[0],B[1],Object(s.useState)(!1)),P=Object(l.a)(I,2),D=(P[0],P[1],Object(s.useState)(!1)),A=Object(l.a)(D,2),M=A[0],F=A[1],z=Object(s.useState)(!1),U=Object(l.a)(z,2),J=U[0],L=U[1],W=u.a.useForm(),_=Object(l.a)(W,1)[0],R=Object(O.b)().t,V=Object(C.g)();Object(s.useEffect)((function(){}));var G=function(e,r){f("licenseImage"===r?function(t){return Object(o.a)(Object(o.a)({},t),{},Object(i.a)({},r,e.file.originFileObj))}:function(t){return Object(o.a)(Object(o.a)({},t),{},Object(i.a)({},r,e.fileList))})},H=function(){var e=Object(c.a)(Object(n.a)().mark((function e(r){var c,i,o,l,s;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),console.log(t,"dataAdded"),t.name){e.next=7;break}return v.b.error(R("Name is required !")),e.abrupt("return");case 7:if(t.emailOrPhone){e.next=12;break}return v.b.error(R("Phone number is required  !")),e.abrupt("return");case 12:if(t.idNumber){e.next=17;break}return v.b.error(R("National Id number required !")),e.abrupt("return");case 17:if(t.city){e.next=22;break}return v.b.error(R("City is required !")),e.abrupt("return");case 22:if(t.carType){e.next=27;break}return v.b.error(R("Car type is required !")),e.abrupt("return");case 27:if(t.carModel){e.next=32;break}return v.b.error(R("Car model is required !")),e.abrupt("return");case 32:if(t.plateNumber){e.next=37;break}return v.b.error(R("Plate number is required !")),e.abrupt("return");case 37:if(M){e.next=42;break}return v.b.error(R("Driving licence is required !")),e.abrupt("return");case 42:if(J){e.next=45;break}return v.b.error(R("Car Image are required !")),e.abrupt("return");case 45:for(i in e.prev=45,(c=new FormData).append("Admin",!0),t)if("carImage"==i){console.log(t[i],"====kkk"),o=Object(a.a)(t[i]);try{for(o.s();!(l=o.n()).done;)s=l.value,c.append("carImage",null===s||void 0===s?void 0:s.originFileObj)}catch(n){o.e(n)}finally{o.f()}}else"city"==i?c.append("city",null===t||void 0===t?void 0:t.city):c.append(i,t[i]);return e.next=51,g.a.post("".concat("https://zomool.com/api","/auth/signupAsDriver"),c,{headers:{Authorization:"Bearer ".concat(w)}});case 51:e.sent.data.data?(v.b.success(R("Data added successfully !!!")),V.push("/app/pages/driver")):v.b.error(R("Error while adding Data")),e.next=58;break;case 55:e.prev=55,e.t0=e.catch(45),console.log(e.t0);case 58:case"end":return e.stop()}}),e,null,[[45,55]])})));return function(r){return e.apply(this,arguments)}}(),K=(Object(s.useRef)(null),function(e){var r=e.target,t=r.name,n=r.value;f((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(i.a)({},t,n))}))}),Q=d.a.Option;Object(s.useEffect)((function(){g.a.get("https://zomool.com/api/transport/getVehicleList").then((function(e){S(e.data.data),console.log(e.data.data,"ress...")}))}),[]),console.log(E,"vehicleName");return Object(T.jsxs)("div",{children:[Object(T.jsx)(b.a,{className:"site-page-header",title:R("Add Driver"),style:{padding:"0px"}}),Object(T.jsx)(j.a,{}),Object(T.jsxs)(u.a,{form:_,onFinish:H,children:[Object(T.jsxs)("div",{children:[Object(T.jsxs)("h5",{style:{marginBottom:"10px",marginTop:"10px"},children:[R("Name of the Driver")," ",Object(T.jsx)("span",{style:{color:"red"},children:"  *"})]}),Object(T.jsx)(p.a,{placeholder:"Enter your full name",value:null===t||void 0===t?void 0:t.name,onChange:function(e){return K(e)},name:"name",onPressEnter:function(e){return K(e)}})]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("h5",{style:{marginBottom:"10px",marginTop:"10px"},children:[R("National Id number")," ",Object(T.jsx)("span",{style:{color:"red"},children:"  *"})]}),Object(T.jsx)(p.a,{placeholder:"National Id number",value:null===t||void 0===t?void 0:t.idNumber,onChange:function(e){return K(e)},name:"idNumber",onPressEnter:function(e){return K(e)},required:!0})]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("h5",{style:{marginBottom:"10px",marginTop:"10px"},children:[R("Phone Number"),Object(T.jsx)("span",{style:{color:"red"},children:"  *"})]}),Object(T.jsx)(p.a,{placeholder:"Enter your phone number",value:null===t||void 0===t?void 0:t.emailOrPhone,type:"number",onChange:function(e){return K(e)},name:"emailOrPhone",onPressEnter:function(e){return K(e)}})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("h5",{style:{marginBottom:"10px",marginTop:"10px"},children:R("Email")}),Object(T.jsx)(p.a,{placeholder:"Email",status:"error",type:"email",value:null===t||void 0===t?void 0:t.email,onChange:function(e){return K(e)},name:"email",onPressEnter:function(e){return K(e)},required:!0})]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("h5",{style:{marginBottom:"10px",marginTop:"10px"},children:["   ",R("City")," ",Object(T.jsx)("span",{style:{color:"red"},children:"  *"})]}),Object(T.jsx)(d.a,{style:{width:"100%"},name:"city",value:t.city,placeholder:"Select cities",onChange:function(e){console.log("Selected Cities:",e),f((function(r){return Object(o.a)(Object(o.a)({},r),{},{city:[e]})}))},showArrow:!0,dropdownMatchSelectWidth:!1,dropdownStyle:{minWidth:"200px"},children:["\u0637\u0628\u0631\u062c\u0644","\u0645\u064a\u0642\u0648\u0639","\u0645\u0643\u0629 \u0627\u0644\u0645\u0643\u0631\u0645\u0629","\u062a\u0628\u0648\u0643","\u062d\u0627\u0626\u0644","\u0648\u0627\u062f\u0649 \u0627\u0644\u062f\u0648\u0627\u0633\u0631","\u0628\u0633\u064a\u0637\u0627","\u0627\u0644\u0642\u0635\u064a\u0645","\u0627\u0644\u0637\u0627\u0626\u0641","\u0627\u0644\u0631\u064a\u0627\u0636","\u062d\u0631\u0636","\u0627\u0644\u0623\u0636\u0627\u0631\u0639","\u0627\u0644\u0646\u0628\u0643 \u0627\u0628\u0648\u0642\u0635\u0631","\u0627\u0644\u0645\u062f\u064a\u0646\u0629 \u0627\u0644\u0645\u0646\u0648\u0631\u0629","\u0623\u0628\u0648 \u0639\u062c\u0631\u0645- \u0637\u0628\u0631\u062c\u0644","\u062a\u064a\u0645\u0627\u0621","\u0633\u0627\u062c\u0631","\u062c\u062f\u0629","\u0627\u0644\u062e\u0631\u062c","\u062f\u0648\u0645\u0629 \u0627\u0644\u062c\u0646\u062f\u0644","\u0627\u0644\u062f\u0645\u0627\u0645","\u0627\u0644\u0642\u0631\u064a\u0629 \u0627\u0644\u0639\u0644\u064a\u0627","\u062d\u0641\u0631 \u0627\u0644\u0628\u0627\u0637\u0646","\u0631\u0641\u062d\u0627\u0621","\u0639\u0631\u0639\u0631","\u0637\u0631\u064a\u0641","\u0627\u0644\u0642\u0631\u064a\u0627\u062a","\u0633\u0643\u0627\u0643\u0627","\u064a\u0646\u0628\u0639","\u062a\u062e\u0627\u0628\u064a\u0644","\u0646\u062c\u0631\u0627\u0646","\u0627\u0644\u0645\u0630\u0646\u0628","\u0627\u0644\u062c\u0648\u0641","\u0628\u064a\u0634\u0647","\u0627\u0644\u0634\u064a\u062d\u064a\u0647","\u0627\u0644\u0643\u0647\u0641\u0647","\u0627\u0644\u062f\u0648\u0627\u0645\u0649","\u0627\u0644\u0646\u0627\u0635\u0641\u0647","\u0628\u0631\u064a\u062f\u0629","\u0639\u0646\u064a\u0632\u0629","\u0627\u0644\u0639\u064a\u0633\u0627\u0648\u064a\u0629","\u0627\u0644\u0648\u062c\u0647","\u0623\u0645\u0644\u062c","\u0631\u0627\u0628\u063a","\u062a\u0631\u0628\u0647","\u0631\u0646\u064a\u0647","\u0627\u0644\u0642\u064a\u0635\u0648\u0645\u0647","\u0627\u0644\u0631\u0633","\u0627\u0644\u063a\u0627\u0637","\u0639\u0641\u064a\u0641","\u0631\u0645\u0627\u062d","\u0627\u0644\u0645\u0632\u0627\u062d\u0645\u064a\u0629","\u062d\u0631\u0636","\u0627\u0644\u0631\u064a\u0646","\u0627\u0644\u0633\u0644\u064a\u0644","\u0627\u0644\u0623\u0641\u0644\u0627\u062c","\u0634\u0642\u0631\u0627\u0621","\u0627\u0644\u0642\u0631\u0646\u0647","\u0627\u0644\u0642\u0648\u064a\u0639\u064a\u0647"].map((function(e){return Object(T.jsx)(Q,{value:e,label:R(e),children:R(e)})}))})]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("h5",{style:{marginBottom:"10px",marginTop:"10px"},children:["   ",R("Car Type")," ",Object(T.jsx)("span",{style:{color:"red"},children:"  *"})]}),Object(T.jsx)(d.a,{onChange:function(e){console.log("Selected Car Type:",e),f((function(r){return Object(o.a)(Object(o.a)({},r),{},{carType:e})}))},style:{width:"100%"},name:"carType",placeholder:"Select car type",value:t.carType,children:null===E||void 0===E?void 0:E.map((function(e){return Object(T.jsx)(Q,{value:e._id,children:e.vehicleName})}))})]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("h5",{style:{marginBottom:"10px",marginTop:"10px"},children:[R("Car Modal")," ",Object(T.jsx)("span",{style:{color:"red"},children:"  *"})]}),Object(T.jsx)(p.a,{placeholder:"Enter your Car Modal",value:null===t||void 0===t?void 0:t.carModel,onChange:function(e){return K(e)},name:"carModel",onPressEnter:function(e){return K(e)},required:!0})]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("h5",{style:{marginBottom:"10px",marginTop:"10px"},children:[R("Car plate number")," ",Object(T.jsx)("span",{style:{color:"red"},children:"  *"})]}),Object(T.jsx)(p.a,{placeholder:"Enter your Car plate number",value:null===t||void 0===t?void 0:t.plateNumber,onChange:function(e){return K(e)},name:"plateNumber",onPressEnter:function(e){return K(e)}})]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("h5",{style:{marginBottom:"10px",marginTop:"10px"},children:[R("Driving licence")," ",Object(T.jsx)("span",{style:{color:"red"},children:"  *"})]}),Object(T.jsx)(h.a,{maxCount:1,listType:"picture",beforeUpload:function(){return!0},onChange:function(e){G(e,"licenseImage"),F(!0)},children:Object(T.jsx)(m.a,{icon:Object(T.jsx)(x.a,{}),children:R("Uploading Image of licence")})})]}),Object(T.jsxs)("div",{style:{marginBottom:"10px",marginTop:"10px"},children:[Object(T.jsxs)("h5",{style:{marginBottom:"10px",marginTop:"10px"},children:[R("Car Images"),"  ",Object(T.jsx)("span",{style:{color:"red"},children:"  *"})]}),Object(T.jsx)(h.a,{onChange:function(e){G(e,"carImage"),L(!0)},listType:"picture-card",maxCount:3,style:{width:"100%"},children:Object(T.jsxs)("div",{children:[Object(T.jsx)(y.a,{}),Object(T.jsx)("div",{style:{marginTop:8},children:R("Upload")})]})})]}),Object(T.jsxs)("div",{className:"d-flex ",style:{marginTop:"20px",gap:"30px"},children:[Object(T.jsx)(m.a,{type:"primary",htmlType:"submit",onClick:H,children:R("Submit")}),Object(T.jsx)(m.a,{onClick:function(){V.push("/app/pages/driver")},children:R("Cancel")},"back"),","]})]})]})}}}]);
//# sourceMappingURL=103.670c72f0.chunk.js.map